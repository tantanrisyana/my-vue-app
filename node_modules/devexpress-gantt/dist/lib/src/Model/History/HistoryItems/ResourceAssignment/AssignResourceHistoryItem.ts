import { ModelManipulator } from "../../../Manipulators/ModelManipulator";
import { ResourceAssignment } from "../../../Entities/ResourceAssignment";
import { HistoryItem } from "../HistoryItem";

export class AssignResourceHistoryItem extends HistoryItem {
    assignment: ResourceAssignment;
    resourceId: string;
    taskId: string;

    constructor(modelManipulator: ModelManipulator, resourceId: string, taskId: string) {
        super(modelManipulator);
        this.resourceId = resourceId;
        this.taskId = taskId;
    }
    public redo(): void {
        this.assignment = this.modelManipulator.resource.assign(this.resourceId, this.taskId, this.assignment ? this.assignment.internalId : null);
    }
    public undo(): void {
        this.modelManipulator.resource.deassig(this.assignment.internalId);
    }
}
